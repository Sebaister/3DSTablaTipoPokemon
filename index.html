<!DOCTYPE html>
<html>
<head>
    <title>Tablas de Tipos Pokémon</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=400">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #FFF;
            margin: 0;
            padding: 2px;
            font-size: 12px;
            -webkit-text-size-adjust: none;
        }
        h1 {
            color: #F00;
            font-size: 16px;
            margin: 6px 0;
            text-align: center;
        }
        h2 {
            color: #FC0;
            font-size: 14px;
            margin: 6px 0;
            text-align: center;
        }
        .menu {
            text-align: center;
            margin: 8px 0;
        }
        .button {
            display: inline-block;
            padding: 6px 8px;
            background-color: #E00;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 12px;
            margin: 2px;
            min-width: 80px;
        }
        .type-menu {
            text-align: center;
            margin: 6px 0;
        }
        .type-btn {
            padding: 4px 6px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            min-width: 70px;
            text-align: center;
            border: none;
            color: white;
            margin: 2px;
        }
        .content {
            display: none;
        }
        .content:target {
            display: block;
        }
        .type-detail {
            border: 1px solid #444;
            border-radius: 6px;
            margin: 8px 0;
            padding: 6px;
            background-color: #222;
            display: none;
        }
        .type-header {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 6px;
            text-align: center;
            padding: 4px;
            border-radius: 4px;
        }
        .type-section {
            margin: 6px 0;
        }
        .type-list {
            margin: 4px 0;
        }
        .type-tag {
            display: inline-block;
            padding: 4px 6px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            min-width: 70px;
            text-align: center;
            margin: 2px;
        }
        /* Colores de tipos */
        .normal { background-color: #A8A878; }
        .fuego { background-color: #F08030; }
        .agua { background-color: #6890F0; }
        .planta { background-color: #78C850; }
        .electrico { background-color: #F8D030; }
        .hielo { background-color: #98D8D8; }
        .lucha { background-color: #C03028; }
        .veneno { background-color: #A040A0; }
        .tierra { background-color: #E0C068; }
        .volador { background-color: #A890F0; }
        .psiquico { background-color: #F85888; }
        .bicho { background-color: #A8B820; }
        .roca { background-color: #B8A038; }
        .fantasma { background-color: #705898; }
        .dragon { background-color: #7038F8; }
        .siniestro { background-color: #705848; }
        .acero { background-color: #B8B8D0; }
        .hada { background-color: #EE99AC; }
        /* Efectividad */
        .weak { background-color: #F44; color: white; }
        .resist { background-color: #4C4; color: white; }
        .strong { background-color: #26F; color: white; }
        .immune { background-color: #999; color: white; }
        .note {
            font-size: 10px;
            margin: 6px 0;
            padding: 0 4px;
            text-align: left;
            color: #CCC;
        }
        /* Estilos para el buscador */
        .search-container {
            text-align: center;
            margin: 10px 0;
            padding: 8px;
            background-color: #222;
            border-radius: 6px;
        }
        .search-input {
            padding: 6px;
            width: 70%;
            max-width: 250px;
            border-radius: 4px;
            border: 1px solid #444;
            background-color: #111;
            color: white;
        }
        .search-button {
            padding: 6px 10px;
            background-color: #E00;
            color: white;
            border: none;
            border-radius: 4px;
            margin-left: 4px;
        }
        .gen-filter {
            margin: 8px 0;
        }
        .gen-filter-btn {
            padding: 4px 6px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 4px;
            margin: 2px;
            font-size: 11px;
        }
        .gen-filter-btn.active {
            background-color: #E00;
        }
        .pokemon-result {
            border: 1px solid #444;
            border-radius: 6px;
            margin: 10px 0;
            padding: 8px;
            background-color: #222;
        }
        .pokemon-name {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 6px;
            text-align: center;
        }
        .pokemon-types {
            text-align: center;
            margin: 6px 0;
        }
        .effectiveness-table {
            width: 100%;
            border-collapse: collapse;
            margin: 8px 0;
        }
        .effectiveness-table th, .effectiveness-table td {
            border: 1px solid #444;
            padding: 4px;
            text-align: center;
        }
        .effectiveness-table th {
            background-color: #333;
        }
    </style>
</head>
<body>
    <h1>Tablas de Tipos Pokémon</h1>
    
    <div class="menu">
        <a href="#gen1" class="button">Gen 1</a>
        <a href="#gen2" class="button">Gen 2-5</a>
        <a href="#gen6" class="button">Gen 6+</a>
        <a href="#search" class="button">Buscar Pokémon</a>
    </div>

    <!-- BUSCADOR DE POKÉMON -->
    <div id="search" class="content">
        <h2>Buscar Pokémon</h2>
        
        <div class="search-container">
            <input type="text" id="pokemonSearch" class="search-input" placeholder="Nombre del Pokémon">
            <button onclick="searchPokemon()" class="search-button">Buscar</button>
            
            <div class="gen-filter">
                <button class="gen-filter-btn" onclick="setGenFilter('gen1')">Gen 1</button>
                <button class="gen-filter-btn" onclick="setGenFilter('gen2')">Gen 2-5</button>
                <button class="gen-filter-btn" onclick="setGenFilter('gen6')">Gen 6+</button>
                <button class="gen-filter-btn active" onclick="setGenFilter('all')">Todos</button>
            </div>
        </div>
        
        <div id="pokemonResults"></div>
    </div>

    <!-- GENERACIÓN 1 -->
    <div id="gen1" class="content">
        <!-- ... (contenido existente de Gen 1) ... -->
    </div>

    <!-- GENERACIÓN 2-5 -->
    <div id="gen2" class="content">
        <!-- ... (contenido existente de Gen 2-5) ... -->
    </div>

    <!-- GENERACIÓN 6+ -->
    <div id="gen6" class="content">
        <!-- ... (contenido existente de Gen 6+) ... -->
    </div>

    <script>
        // Variable para almacenar el filtro de generación
        let currentGenFilter = 'all';
        
        // Lista de Pokémon por generación
        const pokemonList = {
            gen1: [
                {name: "Bulbasaur", types: ["planta", "veneno"]},
                {name: "Ivysaur", types: ["planta", "veneno"]},
                {name: "Venusaur", types: ["planta", "veneno"]},
                {name: "Charmander", types: ["fuego"]},
                {name: "Charmeleon", types: ["fuego"]},
                {name: "Charizard", types: ["fuego", "volador"]},
                // ... (todos los Pokémon de Gen 1)
            ],
            gen2: [
                {name: "Chikorita", types: ["planta"]},
                {name: "Bayleef", types: ["planta"]},
                {name: "Meganium", types: ["planta"]},
                // ... (todos los Pokémon de Gen 2)
            ],
            gen3: [
                {name: "Treecko", types: ["planta"]},
                {name: "Grovyle", types: ["planta"]},
                {name: "Sceptile", types: ["planta"]},
                // ... (todos los Pokémon de Gen 3)
            ],
            gen4: [
                {name: "Turtwig", types: ["planta"]},
                {name: "Grotle", types: ["planta"]},
                {name: "Torterra", types: ["planta", "tierra"]},
                // ... (todos los Pokémon de Gen 4)
            ],
            gen5: [
                {name: "Victini", types: ["psiquico", "fuego"]},
                {name: "Snivy", types: ["planta"]},
                {name: "Servine", types: ["planta"]},
                // ... (todos los Pokémon de Gen 5)
            ],
            gen6: [
                {name: "Chespin", types: ["planta"]},
                {name: "Quilladin", types: ["planta"]},
                {name: "Chesnaught", types: ["planta", "lucha"]},
                // ... (todos los Pokémon de Gen 6)
            ],
            gen7: [
                {name: "Rowlet", types: ["planta", "volador"]},
                {name: "Dartrix", types: ["planta", "volador"]},
                {name: "Decidueye", types: ["planta", "fantasma"]},
                // ... (todos los Pokémon de Gen 7)
            ],
            gen8: [
                {name: "Grookey", types: ["planta"]},
                {name: "Thwackey", types: ["planta"]},
                {name: "Rillaboom", types: ["planta"]},
                // ... (todos los Pokémon de Gen 8)
            ],
            gen9: [
                {name: "Sprigatito", types: ["planta"]},
                {name: "Floragato", types: ["planta"]},
                {name: "Meowscarada", types: ["planta", "siniestro"]},
                // ... (todos los Pokémon de Gen 9)
            ]
        };

        // Tablas de efectividad por generación
        const effectivenessTables = {
            gen1: {
                normal: { weak: ["lucha"], resist: [], immune: ["fantasma"], strong: [] },
                fuego: { weak: ["agua", "tierra", "roca"], resist: ["fuego", "planta", "hielo", "bicho"], strong: ["planta", "hielo", "bicho"] },
                // ... (tablas de efectividad para Gen 1)
            },
            gen2: {
                normal: { weak: ["lucha"], resist: [], immune: ["fantasma"], strong: [] },
                fuego: { weak: ["agua", "tierra", "roca"], resist: ["fuego", "planta", "hielo", "bicho", "acero", "hada"], strong: ["planta", "hielo", "bicho", "acero"] },
                // ... (tablas de efectividad para Gen 2-5)
            },
            gen6: {
                normal: { weak: ["lucha"], resist: [], immune: ["fantasma"], strong: [] },
                fuego: { weak: ["agua", "tierra", "roca"], resist: ["fuego", "planta", "hielo", "bicho", "acero", "hada"], strong: ["planta", "hielo", "bicho", "acero"] },
                // ... (tablas de efectividad para Gen 6+)
            }
        };

        // Función para establecer el filtro de generación
        function setGenFilter(gen) {
            currentGenFilter = gen;
            
            // Actualizar botones activos
            const buttons = document.querySelectorAll('.gen-filter-btn');
            buttons.forEach(btn => {
                if (btn.textContent.toLowerCase().includes(gen) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Si es "todos", activar el botón correspondiente
            if (gen === 'all') {
                document.querySelector('.gen-filter-btn:last-child').classList.add('active');
            }
        }

        // Función para buscar Pokémon
        function searchPokemon() {
            const searchTerm = document.getElementById('pokemonSearch').value.toLowerCase();
            const resultsContainer = document.getElementById('pokemonResults');
            resultsContainer.innerHTML = '';
            
            if (!searchTerm) return;
            
            let filteredPokemon = [];
            
            // Filtrar según la generación seleccionada
            if (currentGenFilter === 'gen1') {
                filteredPokemon = pokemonList.gen1.filter(p => p.name.toLowerCase().includes(searchTerm));
            } else if (currentGenFilter === 'gen2') {
                filteredPokemon = [
                    ...pokemonList.gen1.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen2.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen3.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen4.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen5.filter(p => p.name.toLowerCase().includes(searchTerm))
                ];
            } else if (currentGenFilter === 'gen6') {
                filteredPokemon = [
                    ...pokemonList.gen1.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen2.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen3.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen4.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen5.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen6.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen7.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen8.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen9.filter(p => p.name.toLowerCase().includes(searchTerm))
                ];
            } else {
                // Todos los Pokémon
                filteredPokemon = [
                    ...pokemonList.gen1.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen2.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen3.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen4.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen5.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen6.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen7.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen8.filter(p => p.name.toLowerCase().includes(searchTerm)),
                    ...pokemonList.gen9.filter(p => p.name.toLowerCase().includes(searchTerm))
                ];
            }
            
            if (filteredPokemon.length === 0) {
                resultsContainer.innerHTML = '<div class="note">No se encontraron Pokémon que coincidan con la búsqueda.</div>';
                return;
            }
            
            // Mostrar resultados
            filteredPokemon.forEach(pokemon => {
                const pokemonDiv = document.createElement('div');
                pokemonDiv.className = 'pokemon-result';
                
                // Determinar la tabla de efectividad a usar según la generación
                let effectivenessTable;
                if (pokemonList.gen1.some(p => p.name === pokemon.name)) {
                    effectivenessTable = effectivenessTables.gen1;
                } else if (pokemonList.gen2.some(p => p.name === pokemon.name) || 
                           pokemonList.gen3.some(p => p.name === pokemon.name) || 
                           pokemonList.gen4.some(p => p.name === pokemon.name) || 
                           pokemonList.gen5.some(p => p.name === pokemon.name)) {
                    effectivenessTable = effectivenessTables.gen2;
                } else {
                    effectivenessTable = effectivenessTables.gen6;
                }
                
                // Calcular efectividad combinada para Pokémon con dos tipos
                let combinedEffectiveness = {};
                if (pokemon.types.length === 1) {
                    combinedEffectiveness = effectivenessTable[pokemon.types[0]];
                } else {
                    // Combinar las efectividades de ambos tipos
                    const type1 = effectivenessTable[pokemon.types[0]];
                    const type2 = effectivenessTable[pokemon.types[1]];
                    
                    // Debilidades combinadas
                    combinedEffectiveness.weak = [...new Set([...type1.weak, ...type2.weak])];
                    
                    // Resistencias combinadas
                    combinedEffectiveness.resist = [...new Set([...type1.resist, ...type2.resist])];
                    
                    // Inmunidades combinadas
                    combinedEffectiveness.immune = [...new Set([...type1.immune, ...type2.immune])];
                    
                    // Fortalezas combinadas
                    combinedEffectiveness.strong = [...new Set([...type1.strong, ...type2.strong])];
                    
                    // Ajustar para casos donde un tipo es resistente y el otro débil
                    combinedEffectiveness.weak = combinedEffectiveness.weak.filter(t => 
                        !type1.resist.includes(t) && !type2.resist.includes(t) && 
                        !type1.immune.includes(t) && !type2.immune.includes(t));
                    
                    combinedEffectiveness.resist = combinedEffectiveness.resist.filter(t => 
                        !type1.weak.includes(t) && !type2.weak.includes(t));
                }
                
                // Crear HTML para mostrar el Pokémon y su efectividad
                pokemonDiv.innerHTML = `
                    <div class="pokemon-name">${pokemon.name}</div>
                    <div class="pokemon-types">
                        ${pokemon.types.map(type => `<span class="type-tag ${type}">${type.charAt(0).toUpperCase() + type.slice(1)}</span>`).join(' ')}
                    </div>
                    
                    <table class="effectiveness-table">
                        <tr>
                            <th>Efectividad</th>
                            <th>Tipos</th>
                        </tr>
                        <tr>
                            <td>Débil contra (x2)</td>
                            <td>${combinedEffectiveness.weak.map(t => `<span class="type-tag ${t} weak">${t.charAt(0).toUpperCase() + t.slice(1)}</span>`).join(' ') || 'Ninguno'}</td>
                        </tr>
                        <tr>
                            <td>Resistente a (x0.5)</td>
                            <td>${combinedEffectiveness.resist.map(t => `<span class="type-tag ${t} resist">${t.charAt(0).toUpperCase() + t.slice(1)}</span>`).join(' ') || 'Ninguno'}</td>
                        </tr>
                        <tr>
                            <td>Inmune a (x0)</td>
                            <td>${combinedEffectiveness.immune.map(t => `<span class="type-tag ${t} immune">${t.charAt(0).toUpperCase() + t.slice(1)}</span>`).join(' ') || 'Ninguno'}</td>
                        </tr>
                        <tr>
                            <td>Fuerte contra (x2)</td>
                            <td>${combinedEffectiveness.strong.map(t => `<span class="type-tag ${t} strong">${t.charAt(0).toUpperCase() + t.slice(1)}</span>`).join(' ') || 'Ninguno'}</td>
                        </tr>
                    </table>
                `;
                
                resultsContainer.appendChild(pokemonDiv);
            });
        }

        // Función para mostrar detalles de tipo (existente)
        function showType(typeId) {
            // Oculta todos los detalles primero
            var details = document.getElementsByClassName('type-detail');
            for (var i = 0; i < details.length; i++) {
                details[i].style.display = 'none';
            }
            
            // Muestra el seleccionado
            document.getElementById(typeId).style.display = 'block';
            
            // Desplaza a la vista (sin animación smooth para mejor rendimiento)
            document.getElementById(typeId).scrollIntoView();
        }

        // Permitir búsqueda al presionar Enter
        document.getElementById('pokemonSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPokemon();
            }
        });
    </script>
</body>
</html>
